/*!
 * Copyright 2014 Hippo B.V. (http://www.onehippo.com)
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(){"use strict";angular.module("hippo.theme",["hippo.plugins","ui.tree"])}(),function(){"use strict";angular.module("hippo.theme").directive("hippo.theme.chart",[function(){return{restrict:"A",scope:{data:"="},link:function(a,b){var c=null,d={series:{pie:{show:!0,highlight:{opacity:.25},stroke:{color:"#fff",width:2},startAngle:2}},legend:{show:!0,position:"ne",labelBoxBorderColor:null},grid:{hoverable:!0,clickable:!0}};a.$watch("data",function(a){if(a){var e=_.map(a,function(a){return{label:a.label,data:a.value}});c?(c.setData(e),c.setupGrid(),c.draw()):(c=$.plot(b,e,d),b.show())}})}}}])}(),function(){"use strict";angular.module("hippo.theme").directive("hippo.theme.divider",[function(){return{restrict:"A",link:function(a,b,c){var d=a.$eval(c["hippo.theme.divider"]);d&&b.before('<li role="presentation" class="divider"></li>')}}}])}(),function(){"use strict";angular.module("hippo.theme").directive("hippo.theme.focusMe",["$timeout","$parse",function(a){return{link:function(b,c){b.focusMe=!1,b.$watch("focusMe",function(b){b===!0&&a(function(){c[0].focus()})}),c.blur(function(){b.focusMe=!1,b.$apply()})}}}])}(),function(){"use strict";angular.module("hippo.theme").directive("hippo.theme.map",[function(){return{restrict:"A",scope:{points:"=markers"},link:function(a,b){function c(a){var b=_.map(a,function(a){return new google.maps.Marker({position:a})});g.clearMarkers(),g.addMarkers(b),g.redraw();var c=new google.maps.LatLngBounds;if(angular.forEach(a,function(a){c.extend(a)}),c.getNorthEast().equals(c.getSouthWest())){var d=new google.maps.LatLng(c.getNorthEast().lat()+.015,c.getNorthEast().lng()+.015),e=new google.maps.LatLng(c.getNorthEast().lat()-.015,c.getNorthEast().lng()-.015);c.extend(d),c.extend(e)}f.fitBounds(c)}var d=new google.maps.LatLng(52.359448,4.901317),e={zoom:8,mapTypeId:google.maps.MapTypeId.ROADMAP,center:d},f=new google.maps.Map(b[0],e),g=new MarkerClusterer(f,[]);a.$watch("points",function(a){var b=_.map(a,function(a){return new google.maps.LatLng(a.latitude,a.longitude)});c(b)})}}}])}(),function(){"use strict";angular.module("hippo.theme").directive("hippo.theme.panelDefault",[function(){return{restrict:"A",replace:!0,transclude:!0,template:'<div class="panel panel-default"><div class="panel-heading">{{ panel.title }}</div><div class="panel-body"><div><div ng-transclude></div></div></div></div>',scope:{title:"="},link:function(a){a.panel={title:a.title}}}}])}(),function(){"use strict";angular.module("hippo.theme").service("hippo.theme.ViewportSizes",[function(){var a={},b=[{order:0,name:"xs",active:!1},{order:1,name:"sm",active:!1},{order:2,name:"md",active:!1},{order:3,name:"lg",active:!1}];return a.getAll=function(){return b},a.setCurrent=function(a){_.each(b,function(b){b.active=a.name==b.name})},a.getCurrent=function(){return _.find(b,function(a){return a.active===!0})},a}]).directive("hippo.theme.viewportTest",["$window","hippo.theme.ViewportSizes",function(a,b){return{restrict:"A",replace:!0,template:"<div></div>",link:function(c,d){function e(){var a=angular.element("<div>");d.append(a);for(var c=b.getAll(),e=c.length-1;e>=0;e--){var f=c[e];if(a.addClass("hidden-"+f.name),a.is(":hidden"))return a.remove(),void b.setCurrent(f)}}e(),angular.element(a).bind("resize",function(){e()})}}}])}(),function(){"use strict";angular.module("hippo.theme").directive("hippo.theme.selectBox",["$log",function(a){return{restrict:"A",link:function(b,c,d){angular.isDefined(d.options)||a.warn("No 'data-options' attribute specified for hippo.theme.selectBox. Changes to the ng-options attribute value will not be reflected in the UI."),b.$watch(d.options,function(){c.trigger("chosen:updated"),c.trigger("chosen:updated.chosen")},!0),d.ngModel&&b.$watch(d.ngModel,function(){c.trigger("chosen:updated"),c.trigger("chosen:updated.chosen")},!0),c.chosen({width:"100%",no_results_text:d.noResultsText,single_text:d.placeholder,multiple_text:d.placeholder})}}}])}(),function(){"use strict";angular.module("hippo.theme").service("hippo.theme.URLParser",["$rootScope","$location",function(a,b){var c=[],d={};return a.$on("$stateChangeSuccess",function(){var a,d=b.path().split("/"),e=[],f=function(a){return"/"+d.slice(0,a+1).join("/")};for(d.shift(),a=0;a<d.length;a++)e.push({name:d[a],path:f(a)});c=e}),d.getAll=function(){return c},d.getFirst=function(){return c[0]||{}},d.getAllWithoutLast=function(){var a=c.slice(0);return a.pop(),a},d.getParent=function(){return c[c.length-2]||null},d}])}(),function(){"use strict";angular.module("hippo.theme").directive("hippo.theme.tree",["$compile","$templateCache",function(a,b){return b.put("hippo.theme.tree.include",'<div ui-tree-handle>  <div hippo.theme.tree.template></div></div><ol ui-tree-nodes ng-model="item.items" ng-show="!collapsed">  <li ng-repeat="item in item.items" ui-tree-node ng-include="\'hippo.theme.tree.include\'" data-ng-class="{active: selectedItemId === item.id}"      data-collapsed="item.collapsed"></li></ol>'),{restrict:"A",transclude:!0,scope:{treeItems:"=items",options:"=callbacks",selectedItemId:"="},template:'<div id="uiTreeId" ui-tree="options">  <ol ui-tree-nodes ng-model="treeItems">    <li ng-repeat="item in treeItems" ui-tree-node ng-include="\'hippo.theme.tree.include\'" data-ng-class="{active: selectedItemId === item.id}"        data-collapsed="item.collapsed"></li>  </ol></div>',controller:"hippo.theme.tree.TreeCtrl"}}]).controller("hippo.theme.tree.TreeCtrl",["$transclude","$scope",function(a,b){function c(a,b){return _.each(a,function(a){b[a.id]=a,c(a.items,b)}),b}function d(a,b){_.each(a,function(a){var c=b[a.id];c&&(c.collapsed=a.collapsed)})}this.renderTreeTemplate=a,b.toggleItem=function(){this.toggle(),this.$modelValue.collapsed=!this.$modelValue.collapsed},b.$watch("treeItems",function(a,b){var e=c(b,{}),f=c(a,{});d(e,f)})}]).directive("hippo.theme.tree.template",function(){return{require:"^hippo.theme.tree",link:function(a,b,c,d){d.renderTreeTemplate(a,function(a){b.replaceWith(a)})}}})}(),function(){"use strict";angular.module("hippo.theme").directive("hippo.theme.confirmationDialog",[function(){return{restrict:"A",replace:!0,transclude:!0,template:'<div class="alert alert-warning confirmation-dialog" data-ng-class="{\'s-visible\': show, \'s-invisible\': !show}"><div ng-transclude></div><p class="text-right buttons"><button class="btn btn-default" data-ng-click="performConfirmation()"><i class="fa fa-{{ confirmIcon }}" data-ng-show="confirmIcon"></i> {{ confirmLabel }}</button>&nbsp;&nbsp;<button class="btn btn-default" data-ng-click="performCancel()">{{ cancelLabel }}</button></p></div>',scope:{confirmIcon:"@",confirmLabel:"@",cancelLabel:"@",performConfirmation:"&",performCancel:"&",show:"="},link:function(){}}}])}();